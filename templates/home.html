{% extends "base.html" %}

{% macro render_field(field) -%}
<p>
  {{ field.label }}
  <br />
  {{ field(**kwargs)|safe }}
  {% if field.errors %}
  <br />
    <ul class="errors">
    {% for error in field.errors %}
      <li>{{ error }}</li>
    {% endfor %}
    </ul>
  {% endif %}
</p>
{%- endmacro %}


{% block js %}
{% endblock %}


{% block main %}
<form method="POST" action="/">
  {{ form.hidden_tag() }}
  {{ render_field(form.api_key) }}
  {{ render_field(form.secret_key) }}
  {{ render_field(form.server_id) }}
  {{ render_field(form.event_name) }}
  {{ render_field(form.environment_id) }}
  <input type="submit" value="Trigger Event">
</form>

{% if code %}
  {{ code }}
  <pre>{{ body }}</pre>
{% endif %}

{% endblock %}
